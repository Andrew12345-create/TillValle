:root{
  /* Light theme inspired by original styles.css */
  --bg: #f3f4f6; /* page background - light grey */
  --bg-secondary: #ffffff; /* cards / panels */
  --card: #ffffff;
  --muted: #6b7280; /* gray-500 */
  --accent: #16a34a; /* green-600 */
  --accent-2: #059669; /* green-500 */
  --text-primary: #0f172a; /* gray-900 */
  --text-secondary: #374151; /* gray-700 */
  --glass: rgba(255,255,255,0.6);
  --radius:10px;
  --max-width:1200px;
  /* backwards-compatible alias some scripts expect */
  --bg-primary: var(--bg-secondary);
}

/* Dark theme variables */
.dark-theme {
  --bg: #1a1a1a; /* dark grey page background */
  --bg-secondary: #2a2a2a; /* cards / panels */
  --card: #2a2a2a;
  --muted: #888888; /* muted text */
  --text-primary: #ffffff; /* white text */
  --text-secondary: #cccccc; /* light grey text */
  --glass: rgba(42,42,42,0.6);
}

/* Reset-ish */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans";background:var(--bg);color:var(--text-primary);}

main,section{display:block}

.container{max-width:var(--max-width);margin:0 auto;padding:20px}
/* Navbar */
.navbar{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);border-bottom:1px solid rgba(15,23,42,0.04);box-shadow: 0 6px 16px rgba(15,23,42,0.04);position:sticky;top:0;z-index:1000}
.nav-left,.nav-right{display:flex;gap:14px;align-items:center}
.logo{height:44px;border-radius:8px;object-fit:cover}
.nav-link{color:var(--text-primary);text-decoration:none;padding:8px 10px;border-radius:8px;font-weight:600;opacity:0.95}
.nav-link:hover{background:rgba(6,95,70,0.06);color:var(--accent)}

.user-initial{display:inline-grid;place-items:center;width:34px;height:34px;border-radius:50%;background:linear-gradient(180deg,var(--accent),var(--accent-2));color:white;font-weight:700;cursor:pointer}

/* Avatar image used across nav/user areas */
.user-avatar{width:28px;height:28px;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,0.3);display:inline-block}

/* Navbar micro-animations and active indicator */
.navbar{transition:backdrop-filter 300ms ease, transform 250ms ease}
.navbar.scrolled{-webkit-backdrop-filter: blur(6px);backdrop-filter: blur(6px);transform:translateY(-2px)}
.nav-link{position:relative;overflow:visible}
.nav-link::after{content:'';position:absolute;left:12px;right:12px;bottom:-6px;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent-2));border-radius:6px;transform:scaleX(0);transform-origin:left center;transition:transform .23s cubic-bezier(.2,.9,.2,1);opacity:0}
.nav-link:hover::after,.nav-link.active::after{transform:scaleX(1);opacity:1}
.logo{transition:transform .25s ease, box-shadow .25s ease}
.logo:hover{transform:scale(1.03) rotate(-1deg);box-shadow:0 10px 30px rgba(2,6,23,0.12)}

/* subtle floating animation for hero & floating items */
@keyframes floaty { 0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)} }
.floating-item { animation: floaty 6s ease-in-out infinite; }

/* Shop layout */
.shop-section{padding:28px 18px}
.shop-section h2{font-size:28px;margin:0 0 14px}
.category{margin-bottom:30px}
.category-title{font-size:20px;margin-bottom:12px;color:var(--text-secondary)}
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:16px}
.product{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:12px;text-align:center;cursor:pointer;transition:transform .18s ease,box-shadow .18s ease;border:1px solid rgba(255,255,255,0.03)}
.product:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(2,6,23,0.6)}
.product-image{height:110px;object-fit:contain;margin-bottom:8px}
.product h4{margin:6px 0 4px;font-size:16px;color:var(--text-primary)}
.price{color:var(--accent);font-weight:700}

/* Product card control buttons (qty + / -) */
.product .product-btn {
  display: inline-block;
  padding: 6px 10px;
  border-radius: 6px;
  background: var(--accent, #2e8b57);
  color: #fff;
  border: none;
  cursor: pointer;
  margin-left: 6px;
  min-width: 34px;
  text-align: center;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
}

.product .product-btn:hover {
  transform: translateY(-2px);
  /* slightly darker on hover */
  filter: brightness(0.95);
  box-shadow: 0 4px 12px rgba(46,139,87,0.18);
}

/* Modal */
.modal{display:none;align-items:center;justify-content:center;position:fixed;inset:0;z-index:2000;background:rgba(2,6,23,0.35);padding:20px}
.modal.show{display:flex}
.modal-content{background:var(--bg-secondary);border-radius:12px;padding:18px;max-width:900px;width:100%;border:1px solid rgba(15,23,42,0.06)}
.modal-body{display:flex;gap:18px;align-items:flex-start}
.modal-image{width:220px;height:220px;border-radius:8px;object-fit:cover;background:linear-gradient(180deg,#f8fafc,#eef2f6)}
.modal-info{flex:1}
.modal-price{font-size:18px;color:var(--accent-2);font-weight:800;margin:8px 0}
.add-to-cart-btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:none;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer}

.quantity-controls{display:flex;align-items:center;gap:8px}
.quantity-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text-primary);padding:6px 10px;border-radius:8px;cursor:pointer}

/* Footer */
footer{padding:18px;text-align:center;color:var(--muted);border-top:1px solid rgba(15,23,42,0.04);background:transparent}

/* Chat */
#chat-btn{position:fixed;right:20px;bottom:20px;background:linear-gradient(135deg,var(--accent),var(--accent-2));width:56px;height:56px;border-radius:50%;display:grid;place-items:center;font-size:22px;cursor:pointer;box-shadow:0 10px 30px rgba(6,95,70,0.12);z-index:1100}
#chat-window{display:none;position:fixed;right:20px;bottom:90px;width:320px;height:420px;background:var(--bg-secondary);border-radius:12px;flex-direction:column;overflow:hidden;z-index:1200;border:1px solid rgba(15,23,42,0.06)}
#chat-window #chat-header{padding:12px;background:linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);display:flex;justify-content:space-between;align-items:center}
#chat-messages{padding:12px;flex:1;overflow:auto}
.bot-msg,.user-msg{background:var(--bg-secondary);padding:10px;border-radius:10px;margin-bottom:8px;border:1px solid rgba(15,23,42,0.04)}
.user-msg{text-align:right;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white}

/* Responsive tweaks */
@media(min-width:900px){.container{padding:32px}}
@media(max-width:600px){.product-image{height:90px}.modal-body{flex-direction:column}.nav-left .nav-link{display:none}.logo{height:38px}}

/* ========= CHATBOT STYLES ========= */

/* Floating Buttons - Fixed Positioning */
.floating-chatbot-btn, .floating-cart-btn {
  position: fixed !important;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex !important;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 999999 !important;
  color: white;
  font-size: 24px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  border: 2px solid rgba(255,255,255,0.2);
}

.floating-chatbot-btn {
  bottom: 20px !important;
  right: 20px !important;
  background: linear-gradient(135deg, #2d6a4f 0%, #40916c 100%) !important;
}

.floating-cart-btn {
  bottom: 20px !important;
  right: 90px !important;
  background: linear-gradient(135deg, #dc3545 0%, #e74c3c 100%) !important;
  position: relative;
}

.floating-cart-count {
  position: absolute;
  top: -5px;
  right: -5px;
  background: #ffc107;
  color: #000;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  font-size: 12px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
}

.floating-chatbot-btn:hover, .floating-cart-btn:hover {
  transform: scale(1.1) translateY(-2px) !important;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4) !important;
}

/* Chatbot Sidebar */
.chatbot-sidebar {
  position: fixed !important;
  top: 0 !important;
  right: -400px;
  width: 400px;
  height: 100vh;
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  box-shadow: -5px 0 20px rgba(0, 0, 0, 0.2);
  z-index: 999998 !important;
  transition: right 0.3s ease;
  display: flex;
  flex-direction: column;
}

.chatbot-sidebar.open {
  right: 0;
}

.chatbot-header {
  background: linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);
  color: white;
  padding: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: bold;
  font-size: 18px;
}

.chatbot-close {
  background: none;
  border: none;
  color: white;
  font-size: 24px;
  cursor: pointer;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.3s ease;
}

.chatbot-close:hover {
  background: rgba(255, 255, 255, 0.2);
}

.chatbot-messages {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.chatbot-messages::-webkit-scrollbar {
  width: 6px;
}

.chatbot-messages::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.1);
  border-radius: 10px;
}

.chatbot-messages::-webkit-scrollbar-thumb {
  background: var(--accent);
  border-radius: 10px;
}

.chatbot-messages::-webkit-scrollbar-thumb:hover {
  background: var(--accent-2);
}

.chatbot-message {
  padding: 12px 16px;
  border-radius: 18px;
  max-width: 80%;
  word-wrap: break-word;
}

.chatbot-message.user {
  background: linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);
  color: white;
  align-self: flex-end;
  margin-left: auto;
}

.chatbot-message.bot {
  background: #f1f3f4;
  color: #333;
  align-self: flex-start;
}

.chatbot-input-area {
  padding: 20px;
  border-top: 1px solid #e9ecef;
}

.chatbot-input-container {
  display: flex;
  gap: 12px;
  align-items: center;
}

.chatbot-input {
  flex: 1;
  padding: 12px 16px;
  border: 2px solid #e9ecef;
  border-radius: 25px;
  font-size: 14px;
  outline: none;
  transition: border-color 0.3s ease;
}

.chatbot-input:focus {
  border-color: #2d6a4f;
}

.chatbot-send {
  background: linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);
  color: white;
  border: none;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
}

.chatbot-send:hover {
  transform: scale(1.1);
}

/* Chatbot Backdrop */
.chatbot-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  z-index: 1300;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px);
}

.chatbot-backdrop.show {
  opacity: 1;
  visibility: visible;
}

.chatbot-typing {
  display: none;
  align-self: flex-start;
  padding: 12px 18px;
  background: linear-gradient(135deg, var(--bg-primary) 0%, rgba(255,255,255,0.9) 100%);
  border-radius: 18px;
  border: 1px solid rgba(45,106,79,0.1);
  font-size: 0.95rem;
  color: var(--text-secondary);
  border-bottom-left-radius: 5px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.chatbot-typing::after {
  content: '';
  animation: spin 1s linear infinite;
  display: inline-block;
  width: 12px;
  height: 12px;
  border: 2px solid var(--accent);
  border-top: 2px solid transparent;
  border-radius: 50%;
  margin-left: 8px;
}

/* ========= RESPONSIVE CHATBOT ========= */

/* Medium devices (tablets, 768px and down) */
@media (max-width: 768px) {
  .chatbot-sidebar {
    width: 100%;
    right: -100%;
  }

  .floating-cart-btn {
    right: 20px !important;
    bottom: 90px !important;
  }

  .floating-chatbot-btn {
    right: 20px !important;
    bottom: 20px !important;
  }
}

/* Small devices (phones, 480px and down) */
@media (max-width: 480px) {
  .chatbot-sidebar {
    width: 100%;
    right: -100%;
  }

  .floating-cart-btn {
    right: 20px !important;
    bottom: 90px !important;
  }

  .floating-chatbot-btn {
    right: 20px !important;
    bottom: 20px !important;
  }
}

/* Utility classes to replace inline styles */
.text-center { text-align: center; }
.muted { color: var(--muted); }
.btn-ghost { background: transparent; border: none; color: var(--accent); }
.hidden { display: none !important; }
.card-light { background: var(--bg-secondary); padding: 12px; border-radius: 10px; border: 1px solid rgba(15,23,42,0.04); }
.small { font-size: 0.9rem; }
.mt-20 { margin-top: 20px; }
.link-accent { color: var(--accent); text-decoration: none; }
.divider-or { margin: 20px 0; text-align: center; color: var(--muted); }
.link-muted { display: block; margin-top: 15px; color: var(--accent); text-align: center; }
.fw-bold { font-weight: 700; }
.p-8 { padding: 8px; }
.bg-light { background: #f0f0f0; }
.rounded-sm { border-radius: 4px; }
.d-none { display: none !important; }

/* About page container */
.about-container{max-width:900px;margin:0 auto;padding:28px;background:var(--bg);border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.03)}

/* Profile page styles */
.profile-container{max-width:1200px;margin:0 auto;padding:28px}
.profile-header{text-align:center;margin-bottom:40px}
.profile-avatar{display:inline-block;width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-size:36px;color:white;margin-bottom:16px}
.profile-header h1{font-size:32px;margin:8px 0;color:var(--text-primary)}
.profile-header p{color:var(--muted)}
.profile-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:32px}
.profile-card{background:var(--bg-secondary);padding:24px;border-radius:12px;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;border:1px solid rgba(15,23,42,0.06)}
.profile-card:hover{transform:translateY(-4px);box-shadow:0 8px 25px rgba(2,6,23,0.15)}
.profile-card .card-icon{font-size:32px;margin-bottom:12px}
.profile-card h3{font-size:20px;margin:0 0 8px;color:var(--text-primary)}
.profile-card p{margin:0;color:var(--muted);font-size:14px}
.profile-card .card-arrow{float:right;font-size:20px;margin-top:-8px}
.logout-card:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);color:white}
.logout-card:hover h3,.logout-card:hover p{color:white}

/* Loading screen */
#loading-screen.hidden{display:none}

/* Hero section (copied and adapted from consolidated styles) */
.hero {
  text-align: center;
  padding: 100px 20px;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 50%);
  color: white;
  margin-bottom: 40px;
  position: relative;
  overflow: hidden;
  min-height: 60vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.hero h1 { font-size: 3rem; margin-bottom: 18px; font-weight: 800; }
.hero h1 span { color: var(--bg-secondary); }
.hero p { font-size: 1.15rem; max-width: 700px; margin: 0 auto 20px; color: rgba(255,255,255,0.95); font-weight: 400; }
.floating-elements { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
.floating-item { position: absolute; font-size: 1.8rem; opacity: 0.7; }

@media (max-width: 768px) {
  .hero h1 { font-size: 2.2rem; }
  .hero p { font-size: 1rem; }
}

/* Cart page styles */
.cart-section {
  padding: 28px 18px;
  max-width: 800px;
  margin: 0 auto;
}

.cart-section h2 {
  font-size: 28px;
  margin: 0 0 20px;
  text-align: center;
}

.cart-container {
  background: var(--bg-secondary);
  padding: 20px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.06);
}

#cart-items {
  list-style: none;
  padding: 0;
  margin: 0 0 20px;
}

.cart-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 0;
  border-bottom: 1px solid rgba(15,23,42,0.04);
}

.cart-item:last-child {
  border-bottom: none;
}

.cart-item span {
  font-weight: 600;
  color: var(--text-primary);
}

.cart-quantity-controls {
  display: flex;
  align-items: center;
  gap: 10px;
}

.cart-quantity-controls button {
  background: var(--accent);
  color: white;
  border: none;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s ease;
}

.cart-quantity-controls button:hover {
  background: var(--accent-2);
}

.cart-quantity-controls .decrease-qty {
  background: #dc3545;
}

.cart-quantity-controls .decrease-qty:hover {
  background: #c82333;
}

.item-qty {
  width: 40px;
  text-align: center;
  font-weight: bold;
  border: 1px solid rgba(15,23,42,0.1);
  border-radius: 4px;
  padding: 5px;
  background: var(--bg);
  color: var(--text-primary);
}

#cart-total {
  font-size: 18px;
  font-weight: bold;
  text-align: center;
  color: var(--accent);
  margin-bottom: 20px;
}

#checkout-btn {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  width: 100%;
  font-size: 16px;
  transition: transform 0.2s ease;
}

#checkout-btn:hover {
  transform: translateY(-2px);
}

/* Payment section styles */
#payment-section {
  margin-top: 20px;
  padding: 20px;
  background: var(--bg-secondary);
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.06);
}

#payment-section h2 {
  margin: 0 0 20px;
  text-align: center;
}

.payment-methods {
  margin-bottom: 20px;
}

.payment-option {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.payment-option input[type="radio"] {
  accent-color: var(--accent);
}

#mpesa-section,
#paybill-section {
  margin-top: 20px;
}

#mpesa-section input,
#paybill-section input {
  width: 100%;
  padding: 10px;
  border: 1px solid rgba(15,23,42,0.1);
  border-radius: 8px;
  margin-top: 10px;
  background: var(--bg);
  color: var(--text-primary);
}

#confirm-payment-btn {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  width: 100%;
  margin-top: 20px;
  transition: transform 0.2s ease;
}

#confirm-payment-btn:hover {
  transform: translateY(-2px);
}

/* Toast notification */
#cart-toast {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--accent);
  color: white;
  padding: 15px 20px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  z-index: 10000;
  font-weight: 600;
  transform: translateY(100px);
  transition: transform 0.3s ease;
}

#cart-toast.show {
  transform: translateY(0);
}


