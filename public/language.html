<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Language Settings - TilleValle</title>
  <link rel="icon" href="logo.jpg" type="image/jpeg">
  <link rel="stylesheet" href="styles.css">

  <!-- Hotjar Tracking Code for Tillvalle -->
  <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:6534945,hjsv:6};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="nav-left">
        <a href="index.html" class="nav-link logo-link">
          <img src="logo.jpg" alt="TilleValle Logo" class="logo" />
        </a>
        <a href="shop.html" class="nav-link">Shop</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="contact.html" class="nav-link">Contact</a>
      </div>
      <div class="nav-right">
        <span id="user-area"></span>
        <a href="cart.html" class="nav-link">🛒 Cart (<span id="cart-count">0</span>)</a>
      </div>
    </nav>
    <hr>
  </header>

  <main class="profile-container">
    <div class="profile-header">
      <h1><a href="profile.html" class="back-link">← Back to Profile</a></h1>
      <h2>Language Settings</h2>
      <p>Choose your preferred language for the TillValle experience</p>
    </div>
    
    <div class="language-options">
      <div class="language-card" data-lang="en">
        <div class="language-flag">🇺🇸</div>
        <div class="language-info">
          <h3>English</h3>
          <p>Default language</p>
        </div>
        <div class="language-status" id="status-en">✓</div>
      </div>

      <div class="language-card" data-lang="sw">
        <div class="language-flag">🇰🇪</div>
        <div class="language-info">
          <h3>Kiswahili</h3>
          <p>Lugha ya Kiswahili</p>
        </div>
        <div class="language-status" id="status-sw"></div>
      </div>

      <div class="language-card" data-lang="fr">
        <div class="language-flag">🇫🇷</div>
        <div class="language-info">
          <h3>Français</h3>
          <p>Langue française</p>
        </div>
        <div class="language-status" id="status-fr"></div>
      </div>

      <div class="language-card" data-lang="zh">
        <div class="language-flag">🇨🇳</div>
        <div class="language-info">
          <h3>中文</h3>
          <p>中文语言</p>
        </div>
        <div class="language-status" id="status-zh"></div>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 TilleValle. All rights reserved.</p>
  </footer>

  <!-- Toast -->
  <div id="cart-toast"></div>

  <script src="script.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const currentLang = localStorage.getItem('selectedLanguage') || 'en';
      
      // Update status indicators
      document.querySelectorAll('.language-status').forEach(status => {
        status.textContent = '';
      });
      document.getElementById(`status-${currentLang}`).textContent = '✓';
      
      // Add click handlers
      document.querySelectorAll('.language-card').forEach(card => {
        card.addEventListener('click', function() {
          const lang = this.dataset.lang;
          const langNames = { en: 'English', sw: 'Kiswahili', fr: 'Français', zh: '中文' };
          
          localStorage.setItem('selectedLanguage', lang);
          
          // Update status indicators
          document.querySelectorAll('.language-status').forEach(status => {
            status.textContent = '';
          });
          document.getElementById(`status-${lang}`).textContent = '✓';
          
          // Show toast and redirect to home
          const toast = document.getElementById('cart-toast');
          toast.textContent = `Language changed to ${langNames[lang]}`;
          toast.classList.add('show');
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 1000);
        });
      });
    });
  </script>
</body>
</html>